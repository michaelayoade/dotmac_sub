<div class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-700 dark:bg-slate-800">
    <h2 class="mb-3 text-sm font-semibold text-slate-900 dark:text-white">Preview</h2>
    <p class="mb-3 text-xs text-slate-500 dark:text-slate-400">
        Showing {{ preview.shown }} of {{ preview.total_matches }} matching subscribers.
        Create: {{ preview.counts.create }}, Update: {{ preview.counts.update }}, Skip: {{ preview.counts.skip }}.
    </p>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-slate-200 text-xs dark:divide-slate-700">
            <thead class="bg-slate-50 dark:bg-slate-900/40">
                <tr>
                    <th class="px-2 py-1.5 text-left font-semibold uppercase text-slate-500">Subscriber</th>
                    <th class="px-2 py-1.5 text-left font-semibold uppercase text-slate-500">Email</th>
                    <th class="px-2 py-1.5 text-left font-semibold uppercase text-slate-500">Current</th>
                    <th class="px-2 py-1.5 text-left font-semibold uppercase text-slate-500">Action</th>
                    <th class="px-2 py-1.5 text-left font-semibold uppercase text-slate-500">Reason</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                {% for row in preview.rows %}
                <tr>
                    <td class="px-2 py-1.5 text-slate-700 dark:text-slate-200">{{ row.subscriber_name }}</td>
                    <td class="px-2 py-1.5 text-slate-700 dark:text-slate-200">{{ row.subscriber_email }}</td>
                    <td class="px-2 py-1.5 text-slate-700 dark:text-slate-200">
                        {{ row.existing_offer_name or '-' }}{% if row.existing_subscription_status %} ({{ row.existing_subscription_status }}){% endif %}
                    </td>
                    <td class="px-2 py-1.5 text-slate-700 dark:text-slate-200">{{ row.action }}</td>
                    <td class="px-2 py-1.5 text-slate-700 dark:text-slate-200">{{ row.reason or '-' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
